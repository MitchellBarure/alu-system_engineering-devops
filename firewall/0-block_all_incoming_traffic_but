cat > 0-block_all_incoming_traffic_but << 'EOF'
# Commands used to configure UFW firewall on web-01

sudo apt-get update -y
sudo apt-get install -y ufw

# Allow required ports
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# Deny all other incoming requests
sudo ufw default deny incoming
sudo ufw default allow outgoing

# Enable UFW
sudo ufw --force enable
EOF
